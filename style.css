/* ——— tokens / base / layout from your latest ——— */
:root{
  color-scheme:dark;
  --bg-0:#05070f;--bg-1:#08101e;--bg-2:#0e172c;--bg-3:#101a33;
  --text:#e8f1ff;--muted:#a6b7d6;--dim:#8ea0c3;
  --accent:#6aa8ff;--accent-2:#22d3ee;--accent-3:#8b6cff;
  --line:rgba(120,160,255,.20);--line-strong:rgba(120,160,255,.36);
  --card-grad:linear-gradient(180deg, rgba(16,28,56,.88), rgba(10,16,30,.88));
  --chip-grad:linear-gradient(135deg, rgba(18,28,52,.96), rgba(10,16,30,.92));
  --shadow-1:0 8px 30px rgba(0,0,0,.28);--shadow-2:0 24px 72px rgba(6,14,32,.5);
  --ease:cubic-bezier(.2,.7,.1,1);--ease-out:cubic-bezier(.16,1,.3,1);
  --radius:18px;--header-h:84px;
}
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;min-height:100vh;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
  background:
    radial-gradient(1300px 800px at 18% -10%, rgba(90,161,255,.25) 0, transparent 50%),
    radial-gradient(1000px 760px at 92% -8%, rgba(34,211,238,.16) 0, transparent 50%),
    linear-gradient(180deg,var(--bg-0),var(--bg-1) 30%,var(--bg-1));
  background-attachment:fixed;overflow-x:hidden;
}
header{
  position:sticky;top:0;z-index:30;display:flex;align-items:center;justify-content:space-between;gap:16px;
  padding:14px clamp(14px,3vw,36px);
  background:linear-gradient(180deg, rgba(9,14,28,.85), rgba(10,16,28,.55));
  backdrop-filter:blur(14px);border-bottom:1px solid rgba(120,160,255,.16);
}
.brand{display:flex;align-items:center;gap:12px;min-width:0}
.brand-img{width:46px;height:46px;border-radius:12px;object-fit:cover;border:1px solid rgba(100,160,255,.45);background:#0b1220}
#main-title{margin:0;font-weight:900;font-size:clamp(22px,2.5vw,32px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.season-tag{margin-top:2px;font-size:12px;letter-spacing:.34em;text-transform:uppercase;color:var(--dim)}

.mode-switch{display:flex;gap:10px}
.mode-btn{
  appearance:none;padding:12px 18px;border-radius:14px;border:1px solid var(--line);
  background:linear-gradient(180deg, rgba(18,28,48,.9), rgba(10,16,30,.88));
  color:#f3f7ff;font-weight:900;letter-spacing:.16em;text-transform:uppercase;cursor:pointer;
  transition:transform .12s var(--ease),border-color .12s var(--ease),box-shadow .2s var(--ease);
}
.mode-btn:hover{transform:translateY(-1px);border-color:var(--accent)}
.mode-btn-active{border-color:#7fd7ff;box-shadow:0 0 0 2px rgba(127,215,255,.22) inset, 0 0 0 4px rgba(34,211,238,.16)}

.modes{position:relative}
.modes-btn{
  appearance:none;padding:12px 18px;border-radius:14px;border:1px solid var(--line);
  background:linear-gradient(180deg, rgba(18,28,52,.96), rgba(10,16,30,.92));
  color:#f3f7ff;font-weight:900;letter-spacing:.1em;cursor:pointer;
}
.modes-menu{
  position:absolute;right:0;top:calc(100% + 8px);min-width:260px;padding:10px;border-radius:14px;
  background:var(--card-grad);border:1px solid var(--line);box-shadow:var(--shadow-2);display:none;
}
.modes-menu.open{display:block}
.modes-group{padding:8px;border-radius:12px;background:linear-gradient(180deg, rgba(14,22,40,.9), rgba(8,14,28,.88));border:1px solid rgba(90,161,255,.06);margin-bottom:8px}
.modes-label{font-size:11px;letter-spacing:.28em;text-transform:uppercase;color:var(--muted);margin-bottom:6px}
.modes-item{
  display:block;width:100%;text-align:left;padding:10px 12px;margin:6px 0;border-radius:12px;border:1px solid var(--line);
  background:linear-gradient(180deg, rgba(22,34,64,.96), rgba(12,18,34,.92));color:#eaf2ff;font-weight:800;cursor:pointer;
}
.modes-item:hover{border-color:var(--accent-2);transform:translateY(-1px)}
.modes-item.strong{background:linear-gradient(180deg, rgba(34,211,238,.12), rgba(22,34,64,.9));border-color:rgba(34,211,238,.35)}

.container{max-width:1240px;margin:calc(var(--header-h) + 12px) auto 48px;padding:0 clamp(12px,4vw,36px);display:grid;gap:22px;align-items:start}
@media (min-width:980px){.container{grid-template-columns:380px 1fr}}
@media (max-width:979.98px){.container{display:flex;flex-direction:column}.card{margin-bottom:16px}}

.card{background:var(--card-grad);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow-1);padding:18px clamp(14px,3vw,26px)}
.section-title{margin:0 0 10px;font-size:12px;letter-spacing:.36em;text-transform:uppercase;color:var(--muted)}

.quick-picks{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
button,.chip-btn{
  appearance:none;width:100%;padding:12px 16px;margin-top:8px;border-radius:14px;border:1px solid var(--line);
  color:#f3f7ff;font-weight:900;letter-spacing:.12em;text-transform:uppercase;background:linear-gradient(180deg, rgba(22,34,64,.96), rgba(12,18,34,.92));cursor:pointer;
}
button:hover,.chip-btn:hover{border-color:var(--accent-2);transform:translateY(-1px)}
.chip{position:relative;display:inline-flex;align-items:center;gap:10px;padding:10px 16px 10px 46px;border-radius:999px;border:1px solid var(--line);background:var(--chip-grad);font-size:13px;font-weight:700;color:var(--text)}
.chips,.showopts{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 14px}

/* wheel */
.wheel-wrap{position:relative;display:flex;align-items:center;justify-content:center;padding:40px 12px 16px;min-height:620px;border:1px solid rgba(120,160,255,.14);border-radius:20px;box-shadow:inset 0 0 30px rgba(30,50,90,.25), 0 20px 40px rgba(0,0,0,.35)}
canvas#wheel{width:100%;max-width:820px;height:auto;border-radius:50%;filter:drop-shadow(0 30px 60px rgba(0,0,0,.55))}
.pointer{position:absolute;top:10px;border-left:15px solid transparent;border-right:15px solid transparent;border-top:26px solid var(--accent-2);z-index:40}
.spin-fab{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:112px;height:112px;border-radius:999px;border:2px solid rgba(120,200,255,.55);background:radial-gradient(120% 120% at 30% 20%, #2b3d72 0%, #132447 55%, #0b1530 100%);color:#fff;font-weight:900;letter-spacing:.16em;z-index:50}

.perf-tip{position:relative;width:100%;overflow:hidden;text-align:center;font-size:12px;color:#cfe2ff;padding:6px 10px;margin:6px 0 10px;border:1px solid rgba(120,160,255,.25);border-radius:10px;background:rgba(40,60,100,.28)}
.perf-tip::before{content:"";position:absolute;inset:0;transform-origin:left center;transform:scaleX(var(--pct,0));background:linear-gradient(90deg, rgba(34,211,238,.22), rgba(100,168,255,.25))}

/* HISTORY + DETAILS */
.history-title{margin:16px 0 8px;color:var(--muted);font-size:12px;letter-spacing:.34em;text-transform:uppercase}
.history{max-height:260px;overflow:auto;display:grid;gap:10px}
.result,.item{display:flex;gap:10px;align-items:center;background:linear-gradient(135deg, rgba(14,22,40,.9), rgba(8,14,28,.88));border:1px solid var(--line);border-radius:14px;padding:12px 14px}
.details-card .ac-panel{border-radius:14px;background:linear-gradient(180deg, rgba(14,22,40,.9), rgba(8,14,28,.88));border:1px solid rgba(90,161,255,.06);box-shadow:0 8px 30px rgba(2,8,20,.35);margin-bottom:12px}
.ac-summary{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px;cursor:pointer;background:linear-gradient(180deg, rgba(18,28,48,.6), rgba(12,18,34,.56));font-weight:800}
.ac-body{padding:0 18px 16px;max-height:0;overflow:hidden;transition:max-height .32s var(--ease-out), padding .28s var(--ease)}
.ac-panel[open] .ac-body{max-height:800px;padding:12px 18px 18px}

/* Modal (kept from your latest) */
#backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:24px;background:rgba(4,10,24,.82);backdrop-filter:blur(12px);z-index:1000}
#modal{width:min(92vw,440px);border-radius:18px;overflow:hidden;background:linear-gradient(180deg, rgba(16,24,42,.96), rgba(13,20,38,.92));border:1px solid #4f82ff;box-shadow:var(--shadow-2);display:flex;flex-direction:column;transform:translateY(6px) scale(.985);opacity:0;transition:transform .22s var(--ease-out),opacity .22s var(--ease-out)}
#modal.show{transform:none;opacity:1}
#mHead{padding:22px 26px 0;font-weight:900;font-size:24px;color:#f4f7ff;text-align:center}
#mSub{font-size:14px;color:#a3b8e7;margin:6px 0 2px;text-align:center}
.m-body{padding:10px 22px 14px;display:flex;flex-direction:column;align-items:center;gap:10px}
#mLogo{width:110px;height:110px;object-fit:contain;border-radius:16px;margin:10px auto 6px;background:#0b1220;border:1px solid #5aa1ff}
.m-row{width:100%;display:grid;grid-template-columns:140px 1fr;align-items:center;gap:18px;margin:6px 0}
.m-row[hidden]{display:none!important}
.value-pill{display:inline-flex;align-items:center;justify-content:center;width:100%;min-height:48px;padding:10px 16px;border-radius:14px;background:rgba(17,28,48,.85);border:1px solid rgba(90,161,255,.16);color:#d7e8ff;font-weight:800}

/* Mobile order */
@media (max-width:979.98px){
  .container{display:flex;flex-direction:column}
  section[aria-labelledby="wheel-title"]{order:1}
  .sidebar{order:2}
  .details-card{order:3}
}

/* Luck ribbon */
.luck-badge{
  position:absolute; right:18px; top:4px; z-index:5;
  padding:6px 10px; border-radius:999px; font-weight:900; letter-spacing:.26em;
  background:linear-gradient(90deg, rgba(34,211,238,.22), rgba(100,168,255,.25));
  border:1px solid rgba(120,160,255,.35); color:#eaf4ff;
}
