<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Primary SEO -->
  <title>Football Spinner — 25 European Leagues · Premier League Players</title>
  <meta name="description" content="Spin a random football team from 25 European leagues, or a random Premier League player. Free, fast, no login — perfect for quizzes, watch parties, and football debates." />
  <meta name="keywords" content="football spinner, random team generator, random player generator, premier league players, european leagues, trivia, wheel, football quiz" />
  <link rel="canonical" href="https://footballspinner.com/" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#0b1530" />

  <!-- Open Graph -->
  <meta property="og:title" content="Football Spinner — 25 European Leagues · Premier League Players" />
  <meta property="og:description" content="Spin teams from 25 European leagues or random Premier League players. Free, no login." />
  <meta property="og:url" content="https://footballspinner.com/" />
  <meta property="og:site_name" content="Football Spinner" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://footballspinner.com/app-og.png" />
  <meta property="og:image:alt" content="Football Spinner app preview" />
  <meta property="og:locale" content="en_GB" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Football Spinner — 25 European Leagues · Premier League Players" />
  <meta name="twitter:description" content="Spin teams from 25 European leagues or random Premier League players. Free, no login." />
  <meta name="twitter:image" content="https://footballspinner.com/app-og.png" />

  <!-- Preloads (perf hints) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="app-logo.png?v=1" />
  <link rel="icon" type="image/png" sizes="192x192" href="app-logo.png?v=1" />
  <link rel="apple-touch-icon" href="app-logo.png?v=1" />
  <link rel="shortcut icon" href="app-logo.png?v=1" />

  <!-- Manifest (optional; safe if present/missing) -->
  <link rel="manifest" href="/manifest.webmanifest" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css?v=1" />

  <!-- Google Analytics (gtag) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RK8RD59N8G"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-RK8RD59N8G');
  </script>

  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;
    j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
    f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KS5K7Z4T');
  </script>

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7898957613682010" crossorigin="anonymous"></script>

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Football Spinner",
    "url":"https://footballspinner.com/",
    "description":"Spin a random football team from 25 European leagues, or a random Premier League player. Free, fast, no login.",
    "inLanguage":"en",
    "isFamilyFriendly": true,
    "potentialAction": {
      "@type":"SearchAction",
      "target":"https://footballspinner.com/?q={query}",
      "query-input":"required name=query"
    }
  }
  </script>
</head>

<body>
  <!-- GTM (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KS5K7Z4T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <header>
    <div class="brand">
      <img src="app-logo.png?v=1" alt="Football Spinner logo" class="brand-img" decoding="async" />
      <div>
        <h1 id="main-title">Football Spinner</h1>
        <div class="season-tag">Teams from 25 European leagues · Players from the Premier League</div>
      </div>
    </div>

    <div class="header-right">
      <div class="mode-switch-wrap">
        <div class="mode-switch" role="tablist" aria-label="View mode">
          <button id="modeTeam" role="tab" aria-pressed="true" class="mode-btn mode-btn-active" title="Spin among football clubs">TEAM</button>
          <button id="modePlayer" role="tab" aria-pressed="false" class="mode-btn" title="Spin among players">PLAYER</button>
        </div>
        <!-- Dynamic note shown only in PLAYER mode -->
        <span id="modeNote" class="small" style="display:none;opacity:.9;margin-left:8px;">Players: Premier League only</span>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- LEFT: filters / quick actions / history -->
    <section class="card sidebar" aria-labelledby="filter-title">
      <div class="section-title" id="filter-title">Select Leagues</div>

      <!-- Quick picks -->
      <div class="quick-picks" role="group" aria-label="Quick selections">
        <button id="qpAll"  class="chip-btn" type="button" title="Select all leagues">All Leagues</button>
        <button id="qpNone" class="chip-btn" type="button" title="Deselect all">Clear</button>
        <button id="qpTop"  class="chip-btn" type="button" title="Select only the top leagues">Top 5 Leagues</button>
      </div>

      <!-- Chips (TEAM: leagues · PLAYER: PL teams generated from players.json) -->
      <div id="chips">
        <div id="chipsTop" class="chips"></div>
        <button id="toggleMore" class="chip-btn ghost" type="button" aria-expanded="false" aria-controls="chipsMore">Show more leagues</button>
        <div id="chipsMore" class="chips" hidden></div>
      </div>

      <button id="spinBtn" type="button" title="Click to spin the wheel">Spin Wheel</button>

      <div class="history-title">History</div>
      <div class="history" id="history">
        <div class="result">
          <div id="historyEmpty" class="current-name">Your journey starts with a spin - try your luck!</div>
        </div>
      </div>
      <button id="resetHistoryBtn" type="button" style="margin-top:12px" title="Clear all previous results">Clear History</button>
    </section>

    <!-- RIGHT: wheel -->
    <section class="card" aria-labelledby="wheel-title">
      <div class="section-title" id="wheel-title">Club Wheel</div>

      <!-- Meter + SHOW ON WHEEL -->
      <div class="wheel-subheader">
        <div id="perfTip" class="perf-tip" aria-live="polite"
             data-clubs-text="teams ready to spin"
             data-players-text="players loaded">
          <span class="meter-text">0 teams ready to spin</span>
        </div>

        <div class="section-title" style="margin-top:8px">Show on Wheel</div>
        <div class="showopts" id="showOnWheel" role="group" aria-label="Wheel display options">
          <label class="chip" title="Display club logos or player images on the wheel">
            <input type="checkbox" id="optA" checked aria-label="Logo / Image" />
            <span id="lblA" class="chip-text">Logo</span>
          </label>
          <label class="chip" title="Show team or player names">
            <input type="checkbox" id="optB" checked aria-label="Name" />
            <span id="lblB" class="chip-text">Name</span>
          </label>
          <label class="chip" title="Team mode: Stadium · Player mode: Jersey">
            <input type="checkbox" id="optC" aria-label="Stadium / Jersey" />
            <span id="lblC" class="chip-text">Stadium</span>
          </label>
          <label class="chip" title="Team mode: League · Player mode: Nationality">
            <input type="checkbox" id="optD" aria-label="League / Nationality" />
            <span id="lblD" class="chip-text">League</span>
          </label>
          <label class="chip" title="Player mode: Team (club) label in modal">
            <input type="checkbox" id="optE" aria-label="Team (Player modal)" />
            <span id="lblE" class="chip-text">Nationality</span>
          </label>
        </div>
      </div>

      <!-- Wheel -->
      <div class="wheel-wrap">
        <div class="pointer" aria-hidden="true"></div>
        <button id="spinFab" class="spin-fab" type="button" aria-label="Spin the wheel" title="Click to spin the wheel!">SPIN!</button>
        <canvas id="wheel" width="640" height="640" aria-label="Wheel"></canvas>
        <canvas id="fx"    width="640" height="640" aria-hidden="true"></canvas>
      </div>
    </section>

    <!-- Full-width accordion -->
    <section class="card" style="grid-column:1 / -1; margin-top:28px;">
      <div class="accordion" id="infoAccordion" role="region" aria-labelledby="details-title">
        <div class="section-title" id="details-title">Details</div>

        <div class="ac-panel" id="panel-about" role="region" aria-labelledby="panel-about-summary">
          <div class="ac-summary" id="panel-about-summary" tabindex="0" role="button" aria-expanded="false" aria-controls="panel-about-body">
            <div class="ac-title">About Football Spinner</div>
            <span class="ac-chevron" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
          </div>
          <div class="ac-body" id="panel-about-body" aria-labelledby="panel-about-summary">
            <h2>About Football Spinner</h2>
            <p>Football Spinner is a free tool for fans to explore football clubs and players in a fun, interactive way. Spin the wheel to discover new teams from <strong>25 European leagues</strong> or get a <strong>random Premier League player</strong> for your next quiz.</p>
          </div>
        </div>

        <div class="ac-panel" id="panel-how" role="region" aria-labelledby="panel-how-summary">
          <div class="ac-summary" id="panel-how-summary" tabindex="0" role="button" aria-expanded="false" aria-controls="panel-how-body">
            <div class="ac-title">How it works</div>
            <span class="ac-chevron" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
          </div>
          <div class="ac-body" id="panel-how-body" aria-labelledby="panel-how-summary">
            <h2>How it works</h2>
            <p>Choose your filters: in <strong>TEAM</strong> mode pick leagues (25 European leagues supported); in <strong>PLAYER</strong> mode pick <strong>Premier League teams</strong>. Set what to show on the wheel and hit <em>Spin</em>. The wheel lands on a random result.</p>
          </div>
        </div>

        <div class="ac-panel" id="panel-why" role="region" aria-labelledby="panel-why-summary">
          <div class="ac-summary" id="panel-why-summary" tabindex="0" role="button" aria-expanded="false" aria-controls="panel-why-body">
            <div class="ac-title">Why use it?</div>
            <span class="ac-chevron" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
          </div>
          <div class="ac-body" id="panel-why-body" aria-labelledby="panel-why-summary">
            <h2>Why use it?</h2>
            <p>It makes football discovery fun again — ideal for trivia nights, deciding who to support, or learning about new clubs and players. Free, fast, and no login required.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="backdrop" style="display:none">
    <div id="modal" role="dialog" aria-modal="true" aria-labelledby="mHead" aria-describedby="mSub">
      <div id="mHead">Result</div>
      <div id="mSub" class="small" aria-live="polite">Click below to reveal details</div>

      <div class="m-body">
        <img id="mLogo" alt="" />

        <div class="m-row" id="rowStadium">
          <div class="label">Stadium</div>
          <span id="mStadium" class="value-pill"></span>
        </div>

        <div class="m-row" id="rowClub" style="display:none">
          <div class="label">Team</div>
          <span id="mClub" class="value-pill"></span>
        </div>

        <div class="m-row" id="rowJersey" style="display:none">
          <div class="label">Jersey</div>
          <span id="mJersey" class="value-pill"></span>
        </div>

        <div class="m-row" id="rowNat" style="display:none">
          <div class="label">Nationality</div>
          <span id="mNat" class="value-pill"></span>
        </div>
      </div>

      <div class="m-actions">
        <button id="mClose" class="chip-btn" type="button" title="Close this window">Close Window</button>
      </div>
    </div>
  </div>

  <!-- App -->
  <script src="app.js" defer></script>

  <!-- Inline helpers for mode text + accordion -->
  <script>
    (function(){
      function applyModeTexts(mode){
        const titleRight = document.getElementById('wheel-title');
        const perf = document.getElementById('perfTip');
        const meterText = perf?.querySelector('.meter-text');
        const filterTitle = document.getElementById('filter-title');
        const qpTop = document.getElementById('qpTop');
        const modeNote = document.getElementById('modeNote');

        if(mode === 'player'){
          if (titleRight) titleRight.textContent = 'Player Wheel';
          if (meterText && perf?.dataset.playersText){
            const num = (meterText.textContent.match(/\d+/)||['0'])[0];
            meterText.textContent = `${num} ${perf.dataset.playersText}`;
          }
          if (filterTitle) filterTitle.textContent = 'Select Teams';
          if (qpTop){ qpTop.textContent = 'Top 6 Premier League Teams'; qpTop.title = 'Select the Big Six from the Premier League'; }
          if (modeNote){ modeNote.style.display = 'inline'; modeNote.textContent = 'Players: Premier League only'; }
        } else {
          if (titleRight) titleRight.textContent = 'Club Wheel';
          if (meterText && perf?.dataset.clubsText){
            const num = (meterText.textContent.match(/\d+/)||['0'])[0];
            meterText.textContent = `${num} ${perf.dataset.clubsText}`;
          }
          if (filterTitle) filterTitle.textContent = 'Select Leagues';
          if (qpTop){ qpTop.textContent = 'Top 5 Leagues'; qpTop.title = 'Select only the top 5 leagues'; }
          if (modeNote){ modeNote.style.display = 'none'; }
        }
      }

      const histEmpty = document.getElementById('historyEmpty');
      if (histEmpty) histEmpty.textContent = 'Your journey starts with a spin - try your luck!';

      const initial = (localStorage.getItem('fsMode') === 'player') ? 'player' : 'team';
      applyModeTexts(initial);

      document.getElementById('modeTeam')?.addEventListener('click', () => {
        localStorage.setItem('fsMode', 'team');
        applyModeTexts('team');
      });
      document.getElementById('modePlayer')?.addEventListener('click', () => {
        localStorage.setItem('fsMode', 'player');
        applyModeTexts('player');
      });

      // Accordion
      const accordion = document.getElementById('infoAccordion');
      if (accordion){
        const panels = Array.from(accordion.querySelectorAll('.ac-panel'));
        panels.forEach(panel=>{
          const summary = panel.querySelector('.ac-summary');
          const body = panel.querySelector('.ac-body');

          const setOpen = (open) => {
            panel.toggleAttribute('open', !!open);
            summary.setAttribute('aria-expanded', !!open);
            if (open) { body.style.maxHeight = body.scrollHeight + 40 + 'px'; }
            else { body.style.maxHeight = null; }
          };

          summary.addEventListener('click', ()=>{
            const willOpen = !panel.hasAttribute('open');
            panels.forEach(p=>{
              if (p!==panel){
                p.removeAttribute('open');
                p.querySelector('.ac-summary').setAttribute('aria-expanded','false');
                p.querySelector('.ac-body').style.maxHeight=null;
              }
            });
            setOpen(willOpen);
          });

          summary.addEventListener('keydown', (e)=>{
            if (e.key==='Enter' || e.key===' '){ e.preventDefault(); summary.click(); }
            if (e.key==='ArrowDown'){ e.preventDefault(); (panels[panels.indexOf(panel)+1]||panels[0]).querySelector('.ac-summary').focus(); }
            if (e.key==='ArrowUp'){ e.preventDefault(); (panels[panels.indexOf(panel)-1]||panels[panels.length-1]).querySelector('.ac-summary').focus(); }
          });

          // start collapsed
          panel.removeAttribute('open');
          summary.setAttribute('aria-expanded','false');
        });
      }
    })();
  </script>
</body>
</html>
